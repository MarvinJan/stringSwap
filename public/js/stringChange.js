var _createClass=function(){function i(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,e){return n&&i(t.prototype,n),e&&i(t,e),t}}();function _classCallCheck(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}!function(){"use strict";var t=function(){function r(t,n){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:150,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:3e3;_classCallCheck(this,r),this.parent=document.querySelector(t),this.strings=n,this.timestep=e,this.delay=i,this.activeString="",this.is_running=null,this.current_iteration=0}return _createClass(r,[{key:"init",value:function(){var t=this;this.appendString(this.strings[this.current_iteration]),setTimeout(function(){t.is_running=!1},this.delay)}},{key:"appendString",value:function(t){var n=this.parent.querySelector("span");null!==n&&this.parent.removeChild(n);var e=document.createElement("span");e.append(t),this.parent.append(e)}},{key:"nextString",value:function(t,n){var e=this;this.is_running=!0;for(var i=n[t%n.length],r=n[(t+1)%n.length],a=i.length>r.length?i.length:r.length,s=function(t){setTimeout(function(){var n=e.switchChar(t,i,r);e.repeat(function(){e.activeString=e.randomize(n,t,"&**@#$%@#%#@^")},3,e.timestep,0).then(function(t){return console.log("done"),e.activeString=n}),t+1===a&&setTimeout(function(){e.current_iteration++,e.is_running=!1},e.timestep+e.delay||0)},t*e.timestep)},u=0;u<a;u++)s(u)}},{key:"randomize",value:function(t,n,e){console.log("randomize running");var i=Math.floor(Math.random()*(e.length-1));return t.slice(0,n)+e[i]+t.slice(n+1)}},{key:"wait",value:function(e){return new Promise(function(t,n){setTimeout(t,e)})}},{key:"repeat",value:function(t,n,e,i){var r=this;return i<n?(t(),this.wait(e/(n+1)).then(function(){return r.repeat(t,n,e,i+1)})):new Promise(function(t,n){return t()})}},{key:"switchChar",value:function(t,n,e){return e.slice(0,t+1)+n.slice(t+1)}},{key:"activeString",set:function(t){this.appendString(t)}},{key:"is_running",set:function(t){!1===t&&this.nextString(this.current_iteration,this.strings,this.timestep,this.delay)}}]),r}();window.StringSwap=t}();