var _createClass=function(){function i(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,e){return n&&i(t.prototype,n),e&&i(t,e),t}}();function _classCallCheck(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var StringSwap=function(){function i(t,n){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,i),this.parent="string"==typeof t?document.querySelector(t):t,this.strings=n,this.timestep=e.timestep||150,this.delay=e.delay||3e3,this.current_iteration=0,this.auto_run=e.auto_run||!1,this.is_running=!1,this.element,!0===this.auto_run&&this.init()}return _createClass(i,[{key:"init",value:function(){var t=this;this.activeString=this.strings[this.current_iteration],setTimeout(function(){t.nextString()},this.delay)}},{key:"appendString",value:function(t){this.parent.innerHTML="",this.parent.append(t)}},{key:"nextString",value:function(){var e=this;if(!0===this.is_running)return!1;this.is_running=!0;var t=this.current_iteration,n=this.strings,i=n[t%n.length],r=n[(t+1)%n.length],a=i.length>r.length?i.length:r.length;this.repeat(function(t){var n=e.switchChar(t,i,r);e.repeat(function(){e.activeString=e.randomize(n,t,"&*#$^")},3,e.timestep).then(function(){return e.activeString=n})},a,this.timestep*a).then(function(){e.is_running=!1,e.current_iteration++,!0===e.auto_run&&e.wait(e.timestep+e.delay||0).then(function(){e.nextString()})})}},{key:"randomize",value:function(t,n,e){var i=Math.floor(Math.random()*(e.length-1));return t.slice(0,n)+e[i]+t.slice(n+1)}},{key:"repeat",value:function(t,n,e){var i=this,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;return r<n?(t(r),this.wait(e/(n+1)).then(function(){return i.repeat(t,n,e,r+1)})):new Promise(function(t,n){return t()})}},{key:"wait",value:function(e){return new Promise(function(t,n){setTimeout(t,e)})}},{key:"switchChar",value:function(t,n,e){return e.slice(0,t+1)+n.slice(t+1)}},{key:"checkRunning",value:function(){return this.is_running}},{key:"activeString",set:function(t){this.appendString(t)}}]),i}();